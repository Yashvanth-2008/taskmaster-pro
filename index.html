a<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <title>TaskMaster â€” Get Things Done</title>

  <link rel="shortcut icon" href="logo.png" type="image/x-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@600;700;800&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet" />

  <!-- Font Awesome 6 â€” for all icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       AUTH PAGE â€” Full screen on mobile, split on desktop
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="auth-page" class="page active">

    <!-- LEFT decorative panel (desktop 1024px+ only) -->
    <div class="auth-left">
      <div class="auth-left-inner">
        <div class="auth-left-logo">
          <i class="fa-solid fa-bolt"></i>
        </div>
        <h2 class="auth-left-title">Stay on top<br/>of everything.</h2>
        <p class="auth-left-sub">Plan smarter. Work faster. Achieve more every day.</p>

        <!-- Floating preview cards -->
        <div class="deco-card">
          <i class="fa-solid fa-circle-exclamation" style="color:#fc5c7d"></i>
          Fix login bug â€” High Priority
        </div>
        <div class="deco-card deco-2">
          <i class="fa-solid fa-circle-check" style="color:#5cf8c8"></i>
          Design review â€” Completed
        </div>
        <div class="deco-card deco-3">
          <i class="fa-solid fa-calendar-day" style="color:#7c5cfc"></i>
          3 tasks due today
        </div>

        <!-- Stats preview -->
        <div class="auth-left-stats">
          <div class="al-stat"><span class="al-num">24</span><span class="al-lbl">Tasks</span></div>
          <div class="al-stat"><span class="al-num">18</span><span class="al-lbl">Done</span></div>
          <div class="al-stat"><span class="al-num">75%</span><span class="al-lbl">Progress</span></div>
        </div>
      </div>
    </div>

    <!-- RIGHT: form panel (full screen on mobile) -->
    <div class="auth-right">
      <div class="auth-box">

        <!-- Brand -->
        <div class="brand">
          <div class="brand-icon"><i class="fa-solid fa-bolt"></i></div>
          <span class="brand-name">Task<span class="brand-accent">Master</span></span>
        </div>

        <h1 class="auth-headline" id="auth-headline">Welcome back.</h1>
        <p class="auth-sub" id="auth-sub">Sign in to your workspace.</p>

        <!-- Sign In / Sign Up tabs -->
        <div class="auth-tabs">
          <button class="tab-btn active" onclick="switchTab('signin')">
            <i class="fa-solid fa-right-to-bracket"></i> Sign In
          </button>
          <button class="tab-btn" onclick="switchTab('signup')">
            <i class="fa-solid fa-user-plus"></i> Sign Up
          </button>
        </div>

        <!-- SIGN IN FORM -->
        <div id="signin-panel" class="auth-panel active">
          <div class="form-group">
            <label><i class="fa-solid fa-envelope"></i> Email Address</label>
            <input type="email" id="signin-email" placeholder="you@email.com" autocomplete="email" />
          </div>
          <div class="form-group">
            <label><i class="fa-solid fa-lock"></i> Password</label>
            <div class="input-wrap">
              <input type="password" id="signin-password" placeholder="Enter your password" autocomplete="current-password" />
              <!-- Toggle show/hide password -->
              <button class="eye-btn" onclick="togglePassword('signin-password', this)" type="button" tabindex="-1">
                <i class="fa-solid fa-eye"></i>
              </button>
            </div>
          </div>
          <div class="forgot-row">
            <!-- TODO: Wire to Firebase sendPasswordResetEmail -->
            <span class="forgot-link"><i class="fa-solid fa-key"></i> Forgot password?</span>
          </div>
          <!-- TODO: Replace with Firebase signInWithEmailAndPassword -->
          <button class="btn-primary" onclick="handleSignIn()">
            Sign In <i class="fa-solid fa-arrow-right"></i>
          </button>
        </div>

        <!-- SIGN UP FORM -->
        <div id="signup-panel" class="auth-panel">
          <div class="form-group">
            <label><i class="fa-solid fa-user"></i> Full Name</label>
            <input type="text" id="signup-name" placeholder="Jane Doe" autocomplete="name" />
          </div>
          <div class="form-group">
            <label><i class="fa-solid fa-envelope"></i> Email Address</label>
            <input type="email" id="signup-email" placeholder="you@email.com" autocomplete="email" />
          </div>
          <div class="form-group">
            <label><i class="fa-solid fa-lock"></i> Password</label>
            <div class="input-wrap">
              <input type="password" id="signup-password" placeholder="Minimum 8 characters" autocomplete="new-password" />
              <button class="eye-btn" onclick="togglePassword('signup-password', this)" type="button" tabindex="-1">
                <i class="fa-solid fa-eye"></i>
              </button>
            </div>
          </div>
          <!-- TODO: Replace with Firebase createUserWithEmailAndPassword -->
          <button class="btn-primary" onclick="handleSignUp()">
            Create Account <i class="fa-solid fa-arrow-right"></i>
          </button>
        </div>

        <!-- Divider -->
        <div class="divider"><span>or continue with</span></div>

        <!-- Google Button -->
        <!-- TODO: Replace with Firebase GoogleAuthProvider -->
        <button class="btn-google" onclick="handleGoogle()">
          <svg class="google-icon" viewBox="0 0 48 48" aria-hidden="true">
            <path fill="#4285F4" d="M45.12 24.5c0-1.56-.14-3.06-.4-4.5H24v8.51h11.84c-.51 2.75-2.06 5.08-4.39 6.64v5.52h7.11c4.16-3.83 6.56-9.47 6.56-16.17z"/>
            <path fill="#34A853" d="M24 46c5.94 0 10.92-1.97 14.56-5.33l-7.11-5.52c-1.97 1.32-4.49 2.1-7.45 2.1-5.73 0-10.58-3.87-12.32-9.07H4.34v5.7C7.96 41.07 15.4 46 24 46z"/>
            <path fill="#FBBC05" d="M11.68 28.18c-.46-1.38-.68-2.82-.68-4.18 0-1.45.25-2.86.68-4.18v-5.7H4.34A21.99 21.99 0 0 0 2 24c0 3.55.85 6.91 2.34 9.88l7.34-5.7z"/>
            <path fill="#EA4335" d="M24 10.75c3.23 0 6.13 1.11 8.41 3.29l6.31-6.31C34.91 4.18 29.93 2 24 2 15.4 2 7.96 6.93 4.34 14.12l7.34 5.7c1.74-5.2 6.59-9.07 12.32-9.07z"/>
          </svg>
          Continue with Google
        </button>

      </div>
    </div>

  </div>
  <!-- END: Auth Page -->


  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       APP PAGE â€” Main Dashboard
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="app-page" class="page">

    <!-- TOP NAVBAR -->
    <nav class="navbar">
      <div class="nav-left">
        <!-- Hamburger (mobile/tablet only â€” hidden on desktop) -->
        <!-- Click opens sidebar drawer with smooth animation -->
        <button class="hamburger" id="hamburger-btn" onclick="toggleSidebar()" aria-label="Toggle menu">
          <i class="fa-solid fa-bars" id="hamburger-icon"></i>
        </button>
        <div class="nav-brand">
          <i class="fa-solid fa-bolt"></i> Task<span class="dot">Master</span>
        </div>
      </div>

      <div class="nav-right">
        <!-- Search toggle button -->
        <button class="nav-icon-btn" onclick="toggleSearch()" title="Search tasks">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
        <!-- Notification bell -->
        <button class="nav-icon-btn" onclick="showNotifications()" title="Notifications">
          <i class="fa-solid fa-bell"></i>
          <span class="notif-dot" id="notif-dot"></span>
        </button>
        <!-- User avatar -->
        <div class="avatar" id="user-avatar" onclick="toggleUserMenu()">U</div>
        <!-- User dropdown menu -->
        <div class="user-menu" id="user-menu">
          <div class="user-menu-header">
            <div class="user-menu-avatar" id="menu-avatar">U</div>
            <div>
              <div class="user-menu-name" id="menu-name">User</div>
              <div class="user-menu-email" id="menu-email">user@email.com</div>
            </div>
          </div>
          <div class="user-menu-divider"></div>
          <div class="user-menu-item" onclick="handleLogout()">
            <i class="fa-solid fa-right-from-bracket"></i> Log Out
          </div>
        </div>
      </div>
    </nav>

    <!-- Search bar (hidden by default, toggleSearch() shows it) -->
    <div class="search-bar-wrap" id="search-bar-wrap">
      <div class="search-bar">
        <i class="fa-solid fa-magnifying-glass search-icon"></i>
        <input type="text" id="search-input" placeholder="Search tasks..." oninput="handleSearch()" />
        <button class="search-close" onclick="closeSearch()"><i class="fa-solid fa-xmark"></i></button>
      </div>
    </div>

    <!-- Dark overlay behind sidebar drawer (mobile only) -->
    <div class="sidebar-overlay" id="sidebar-overlay" onclick="closeSidebar()"></div>

    <!-- LAYOUT: sidebar + main -->
    <div class="app-layout">

      <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           SIDEBAR
           Mobile: hidden off-screen, slides in on hamburger click
           Desktop (1024px+): always visible in grid
           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
      <aside class="sidebar" id="sidebar">

        <!-- Sidebar close button (mobile only) -->
        <button class="sidebar-close-btn" onclick="closeSidebar()">
          <i class="fa-solid fa-xmark"></i>
        </button>

        <!-- Sidebar brand (mobile) -->
        <div class="sidebar-brand">
          <i class="fa-solid fa-bolt"></i> Task<span>Master</span>
        </div>

        <!-- Workspace nav -->
        <div class="sidebar-section">
          <div class="sidebar-label">
            <i class="fa-solid fa-layer-group"></i> Workspace
          </div>

          <div class="sidebar-item active" onclick="setView('all', this)">
            <i class="fa-solid fa-list-check s-icon"></i>
            <span class="s-text">All Tasks</span>
            <span class="badge" id="badge-all">0</span>
          </div>
          <div class="sidebar-item" onclick="setView('today', this)">
            <i class="fa-solid fa-sun s-icon"></i>
            <span class="s-text">Today</span>
          </div>
          <div class="sidebar-item" onclick="setView('upcoming', this)">
            <i class="fa-solid fa-calendar-days s-icon"></i>
            <span class="s-text">Upcoming</span>
          </div>
          <div class="sidebar-item" onclick="setView('done', this)">
            <i class="fa-solid fa-circle-check s-icon"></i>
            <span class="s-text">Completed</span>
          </div>
        </div>

        <!-- Priority filter -->
        <div class="sidebar-section">
          <div class="sidebar-label">
            <i class="fa-solid fa-flag"></i> Priority
          </div>
          <div class="sidebar-item" onclick="filterByPriority('high', this)">
            <i class="fa-solid fa-circle s-icon" style="color:#fc5c7d"></i>
            <span class="s-text">High Priority</span>
          </div>
          <div class="sidebar-item" onclick="filterByPriority('medium', this)">
            <i class="fa-solid fa-circle s-icon" style="color:#f5a623"></i>
            <span class="s-text">Medium</span>
          </div>
          <div class="sidebar-item" onclick="filterByPriority('low', this)">
            <i class="fa-solid fa-circle s-icon" style="color:#5cf8c8"></i>
            <span class="s-text">Low</span>
          </div>
        </div>

        <!-- Quick stats inside sidebar -->
        <div class="sidebar-stats">
          <div class="sidebar-stat">
            <span class="ss-num" id="ss-total">0</span>
            <span class="ss-lbl">Total</span>
          </div>
          <div class="sidebar-stat">
            <span class="ss-num" id="ss-done">0</span>
            <span class="ss-lbl">Done</span>
          </div>
          <div class="sidebar-stat">
            <span class="ss-num" id="ss-pending">0</span>
            <span class="ss-lbl">Pending</span>
          </div>
        </div>

        <!-- Progress bar in sidebar -->
        <div class="sidebar-progress">
          <div class="sp-header">
            <span class="sp-label">Overall Progress</span>
            <span class="sp-pct" id="sp-pct">0%</span>
          </div>
          <div class="sp-bar">
            <div class="sp-fill" id="sp-fill"></div>
          </div>
        </div>

      </aside>
      <!-- END: Sidebar -->

      <!-- MAIN CONTENT -->
      <main class="main-content">

        <!-- Page header -->
        <div class="content-header">
          <div>
            <h2 class="page-title" id="view-title">All Tasks</h2>
            <p class="page-date" id="view-date"></p>
          </div>
          <!-- Add Task button (desktop only â€” FAB on mobile) -->
          <button class="add-task-btn" onclick="openModal()">
            <i class="fa-solid fa-plus"></i> Add Task
          </button>
        </div>

        <!-- Stats row -->
        <div class="stats-row">
          <div class="stat-card stat-purple">
            <div class="stat-icon"><i class="fa-solid fa-list-check"></i></div>
            <div class="stat-num" id="stat-total">0</div>
            <div class="stat-label">Total Tasks</div>
          </div>
          <div class="stat-card stat-teal">
            <div class="stat-icon"><i class="fa-solid fa-circle-check"></i></div>
            <div class="stat-num" id="stat-done">0</div>
            <div class="stat-label">Completed</div>
          </div>
          <div class="stat-card stat-pink">
            <div class="stat-icon"><i class="fa-solid fa-chart-pie"></i></div>
            <div class="stat-num" id="stat-pct">0%</div>
            <div class="stat-label">Progress</div>
          </div>
        </div>

        <!-- Progress bar -->
        <div class="progress-section">
          <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
          </div>
          <span class="progress-label" id="progress-label">0% complete</span>
        </div>

        <!-- Filter chips + sort -->
        <div class="filter-sort-row">
          <div class="filter-row">
            <button class="filter-chip active" onclick="setFilter('all', this)">
              <i class="fa-solid fa-border-all"></i> All
            </button>
            <button class="filter-chip" onclick="setFilter('pending', this)">
              <i class="fa-solid fa-clock"></i> Pending
            </button>
            <button class="filter-chip" onclick="setFilter('done', this)">
              <i class="fa-solid fa-check"></i> Done
            </button>
          </div>
          <!-- Sort dropdown -->
          <div class="sort-wrap">
            <select class="sort-select" id="sort-select" onchange="handleSort()">
              <option value="default"><i class="fa-solid fa-sort"></i> Default</option>
              <option value="priority">Priority</option>
              <option value="date">Due Date</option>
              <option value="name">Name A-Z</option>
            </select>
          </div>
        </div>

        <!-- Task list (rendered by JS) -->
        <div class="task-list" id="task-list"></div>

      </main>

    </div>
    <!-- END: app-layout -->

    <!-- MOBILE BOTTOM NAV (â‰¤768px only) -->
    <nav class="bottom-nav">
      <div class="bnav-item active" id="bnav-all"      onclick="mobileNav('all', this)">
        <i class="fa-solid fa-list-check bnav-icon"></i>
        <span class="bnav-label">All</span>
      </div>
      <div class="bnav-item" id="bnav-today"           onclick="mobileNav('today', this)">
        <i class="fa-solid fa-sun bnav-icon"></i>
        <span class="bnav-label">Today</span>
      </div>
      <!-- Centre FAB -->
      <div class="bnav-fab" onclick="openModal()">
        <i class="fa-solid fa-plus"></i>
      </div>
      <div class="bnav-item" id="bnav-upcoming"        onclick="mobileNav('upcoming', this)">
        <i class="fa-solid fa-calendar-days bnav-icon"></i>
        <span class="bnav-label">Soon</span>
      </div>
      <div class="bnav-item" id="bnav-done"            onclick="mobileNav('done', this)">
        <i class="fa-solid fa-circle-check bnav-icon"></i>
        <span class="bnav-label">Done</span>
      </div>
    </nav>

  </div>
  <!-- END: App Page -->


  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       ADD TASK MODAL
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="modal-overlay" id="task-modal" onclick="handleOverlayClick(event)">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">
          <i class="fa-solid fa-plus-circle"></i> New Task
        </h3>
        <button class="modal-close" onclick="closeModal()">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>

      <div class="form-group">
        <label><i class="fa-solid fa-pen-to-square"></i> Task Title</label>
        <input type="text" id="task-title-input" placeholder="What needs to be done?" />
      </div>

      <div class="form-row-2">
        <div class="form-group">
          <label><i class="fa-solid fa-flag"></i> Priority</label>
          <select id="task-priority">
            <option value="high">ðŸ”´ High</option>
            <option value="medium" selected>ðŸŸ¡ Medium</option>
            <option value="low">ðŸŸ¢ Low</option>
          </select>
        </div>
        <div class="form-group">
          <label><i class="fa-solid fa-tag"></i> Category</label>
          <select id="task-category">
            <option value="Work">ðŸ’¼ Work</option>
            <option value="Personal">ðŸ‘¤ Personal</option>
            <option value="Design">ðŸŽ¨ Design</option>
            <option value="Dev">ðŸ’» Dev</option>
            <option value="Health">ðŸ’ª Health</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label><i class="fa-solid fa-calendar"></i> Due Date</label>
        <input type="date" id="task-due" />
      </div>

      <div class="form-group">
        <label><i class="fa-solid fa-note-sticky"></i> Notes (optional)</label>
        <textarea id="task-notes" placeholder="Add any notes here..." rows="2"></textarea>
      </div>

      <div class="modal-actions">
        <button class="btn-cancel" onclick="closeModal()">
          <i class="fa-solid fa-xmark"></i> Cancel
        </button>
        <!-- TODO: Wire to Firebase addDoc -->
        <button class="btn-save" onclick="saveTask()">
          <i class="fa-solid fa-floppy-disk"></i> Save Task
        </button>
      </div>
    </div>
  </div>


  <!-- EDIT TASK MODAL -->
  <div class="modal-overlay" id="edit-modal" onclick="handleEditOverlayClick(event)">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">
          <i class="fa-solid fa-pen"></i> Edit Task
        </h3>
        <button class="modal-close" onclick="closeEditModal()">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>

      <input type="hidden" id="edit-task-id" />

      <div class="form-group">
        <label><i class="fa-solid fa-pen-to-square"></i> Task Title</label>
        <input type="text" id="edit-title" placeholder="Task title" />
      </div>

      <div class="form-row-2">
        <div class="form-group">
          <label><i class="fa-solid fa-flag"></i> Priority</label>
          <select id="edit-priority">
            <option value="high">ðŸ”´ High</option>
            <option value="medium">ðŸŸ¡ Medium</option>
            <option value="low">ðŸŸ¢ Low</option>
          </select>
        </div>
        <div class="form-group">
          <label><i class="fa-solid fa-tag"></i> Category</label>
          <select id="edit-category">
            <option value="Work">ðŸ’¼ Work</option>
            <option value="Personal">ðŸ‘¤ Personal</option>
            <option value="Design">ðŸŽ¨ Design</option>
            <option value="Dev">ðŸ’» Dev</option>
            <option value="Health">ðŸ’ª Health</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label><i class="fa-solid fa-calendar"></i> Due Date</label>
        <input type="date" id="edit-due" />
      </div>

      <div class="modal-actions">
        <button class="btn-cancel" onclick="closeEditModal()">
          <i class="fa-solid fa-xmark"></i> Cancel
        </button>
        <button class="btn-save" onclick="saveEditTask()">
          <i class="fa-solid fa-floppy-disk"></i> Update
        </button>
      </div>
    </div>
  </div>


  <!-- TOAST notification -->
  <div class="toast" id="toast">
    <span id="toast-icon"></span>
    <span id="toast-msg"></span>
  </div>

  <!-- SCRIPT -->
  <script src="app.js"></script>
</body>
</html>
